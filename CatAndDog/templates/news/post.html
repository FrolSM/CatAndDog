{% extends 'flatpages/default.html' %}
{% load news_filters %}

{% block title %}{{ post.title }}{% endblock %}
{% block content %}
    <div class="postdeteil">
        <h1>{{ post.title }}</h1>
        <p>Категория: {{ post.category }} Пользователь: {{ post.author }}<br> Дата: {{ post.time }}</p>
        {% if post.photo %}
            <img class="img-article-left" src="{{ post.photo.url }}">
        {% endif %}
        {% if post.video %}
            <video class="video" controls src="{{ post.video.url }}"></video>
        {% endif %}
        <h5>{{ post.text|censor }}</h5>
        <div class="like">
            <a href="{% url 'like' post.pk %}"> Лайк <i class="fa-regular fa-thumbs-up"></i> {{ post.rating }}</a>
            <a href="{% url 'post_comment' post.pk %}"> Комментировать <i class="fa-regular fa-comment"></i></a>
        </div>
        <br>
        <div class="comment">
            <h3>Комментарии:</h3>
            {% for comment in post.comment_set.all %}
            <p> Автор комментария: "{{ comment.user }}" Время: {{ post.time }}</p>
            <h5> {{ comment.text }}</h5>
            {% if not forloop.last %}
                <hr>
            {% endif %}
            {% endfor %}
        </div>
    </div>
{% endblock content %}